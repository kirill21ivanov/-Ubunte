
Для выполнения Linux Monitoring можно настроить подключение по ssh  из любого терминала MacOS или терминала VScode

## Настройка VB

1) Создаем виртуальную машину и устанавливаем Ubuntu server 20.04 LTS. скачать можно по ссылке [Ubuntu server 20.04 LTS](https://old-releases.ubuntu.com/releases/20.04.0/ubuntu-20.04-live-server-amd64.iso)
   
2) Выделяем виртуальную машину, выбираем настройки
    ![](/images/1.png)

3) Заходим в "**сеть**" и разворачиваем "**дополнительно**"
    ![](/images/2.png)

4) Нажимаем на кномпку **Проброс портов** и заполняем только 
   
   - Протокол = TCP
   - Порт хоста = 12345 (значение любое или свободного порта)
   - Порт гостя = 22
  
  нажимаем **ОК**

5) Запускаем виртуальную машину
   выполняем 

   `sudo vim /etc/netplan/00-installer-config.yaml`
   
   - включаем DHCP
  
     ![](/images/4.png)

    выходим с сохранением `Esc -> :wq -> Enter`

    применяем правила `sudo netplan apply`

    выполняем 
   `sudo vim /etc/ssh/sshd_config`

   - редактируем файл открыв(раскоментировать) порт 22
  
       ![](/images/5.png)

  выходим с сохранением `Esc -> :wq -> Enter`
  перезапускаем `systemctl restart ssh`
  сворачиваем виртуальную машину и сворачиваем виртуал бокс

1) заходим в любой терминал 
   - вводим `ssh -p 12345 127.0.0.1` 
   первый раз на вопрос отвечаем `yes`
   - далее у вас спросит пароль который в виртуальной машине стоит у пользователя
   - вводим пароль 
      ![](/images/6.png)

    - и подключение происходит по ssh  к нашей виртуальной машине и буфер обмена общий работает(необходим для дальнейшего просмотри и импорта ключа ssh для гит лаба)  
        ![](/images/7.png)

## Подключение к гитлаб с виртуальной машины
Теперь когда подключились к виртуальной машине имея общий буфер обмена можно как обычно добавить в гит лаб ssh  ключ и клонить/пушить свои проекты для этого 
 - генерируем ssh  ключ
    `ssh-keygen`

 - просмотр содержимого сгенерированного 
    `cat .ssh/id_rsa.pub`

- выделяем копируем в буфер обмена `command + c`
- заходим в лк гитлаб справа сверху `Preferences`
    ![](/images/9.png)

- слева жмем SSH keys
    ![](/images/10.png)

- вставляем наш ключ и жмем Add key
    ![](/images/11.png)

Радуемся жизни клоним проекты и сразу тестируем скрипты на линукс 20.04 

Всем удачи и добра =)
